#!/bin/bash
# Comando Claude: Deploy seguro con validaciones

set -e

ENV=${1:-development}

echo "ğŸš€ Iniciando deploy a: $ENV"
echo ""

# Validaciones pre-deploy
echo "ğŸ” Ejecutando validaciones pre-deploy..."
make validate

echo ""
echo "ğŸ—ï¸ Construyendo aplicaciÃ³n..."
make build

echo ""
echo "ğŸ“¦ Iniciando deployment..."

if [ "$ENV" = "production" ]; then
    echo "âš ï¸  ADVERTENCIA: Deploy a producciÃ³n requiere confirmaciÃ³n manual"
    echo "Ejecuta: ./scripts/claude-deploy-manager.sh prod"
else
    ./scripts/claude-deploy-manager.sh dev
fi